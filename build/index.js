/*!
 * 
 *   @ndnci/mentorjs v1.0.0
 *   git+https://github.com/ndnci/mentorjs.git
 *
 *   Copyright (c) NDNCI
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("MentorJS",[],e):"object"===typeof exports?exports.MentorJS=e():t.MentorJS=e()}(this,(function(){return function(){"use strict";var t={d:function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e),t.d(e,{default:function(){return n}});var o=function(){function MentorJS(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MentorJS),this._globalConfig=t,this._isOpened=null,this._stepsArray=[],this._modalOptions={},this._settings={autoRun:!0,stepFrom:0},this._config={theme:"light",animation:null,backgroundArea:document.querySelector("body"),backgroundEffectClass:"mentor-blur",targetNoEffectClass:"mentor-noblur",targetToggleClass:"mentor-toggle",autoScroll:!0,scrollMethod:"scrollTo",scrollOn:"modal",scrollBehavior:"smooth",scrollBlock:"center",scrollInline:"center",modalDivClass:"mentor-modal",modalDivHeaderClass:"mentor-modal-header",modalDivHeaderCloseClass:"close",modalDivBodyClass:"mentor-modal-body",modalDivFooterClass:"mentor-modal-footer",previousButtonClass:"mentor-btn mentor-modal-previous",nextButtonClass:"mentor-btn mentor-modal-next",endButtonClass:"mentor-btn mentor-modal-end",openButtonId:null,closeButtonId:"modalClose",previousButtonText:"&laquo; Back",nextButtonText:"Next &raquo;",endButtonText:"Thanks",order:null,title:null,message:null,target:null,closeButton:!1,showHeader:!0,showFooter:!0,showArrow:!0,outsideClick:!1,targetAutoShow:!1,margin:10,horizontal:"auto",vertical:"auto",responsive:!0,wait:0,events:"click",mobileSupport:!0,positionTop:null}}var t,e,o;return t=MentorJS,e=[{key:"getConfig",value:function(t){return this._config[t]}},{key:"setConfig",value:function(t,e){this._config[t]=e}},{key:"getSetting",value:function(t){return this._settings[t]}},{key:"setSetting",value:function(t,e){this._settings[t]=e}},{key:"getModalOption",value:function(t){return this._modalOptions[t]}},{key:"setModalOption",value:function(t,e){this._modalOptions[t]=e}},{key:"getCurrentStep",value:function(){return this.getSetting("stepFrom")}},{key:"setCurrentStep",value:function(t){this.setSetting("stepFrom",t)}},{key:"getModelHeader",value:function(){return'<div class="'.concat(this.getModalOption("modalDivHeaderClass"),'">\n                    ').concat(this.getModelTitle(),"\n                    ").concat(this.getModalOption("closeButton")?this.getModelHeaderClose():"","\n                </div>")}},{key:"getModelHeaderClose",value:function(){return'<span class="'.concat(this.getModalOption("modalDivHeaderCloseClass"),'" id="').concat(this.getModalOption("closeButtonId"),'"></span>')}},{key:"getModelTitle",value:function(){return"<span>".concat(this.getModalOption("title"),"</span>")}},{key:"getModelBody",value:function(){return'<div class="'.concat(this.getModalOption("modalDivBodyClass"),'">').concat(this.getModalOption("message"),"</div>")}},{key:"getModelPreviousButton",value:function(){return'<button class="'.concat(this.getModalOption("previousButtonClass"),'">').concat(this.getModalOption("previousButtonText"),"</button>")}},{key:"getModelNextButton",value:function(){return'<button class="'.concat(this.getModalOption("nextButtonClass"),'">').concat(this.getModalOption("nextButtonText"),"</button>")}},{key:"getModelEndButton",value:function(){return'<button class="'.concat(this.getModalOption("endButtonClass"),'">').concat(this.getModalOption("endButtonText"),"</button>")}},{key:"getModelFooter",value:function(){return'<div class="'.concat(this.getModalOption("modalDivFooterClass"),'">\n                    ').concat(this.isFirstStep()?"":this.getModelPreviousButton(),"\n                    ").concat(this.isLastStep()?this.getModelEndButton():this.getModelNextButton(),"\n                </div>")}},{key:"getCurrenStepVal",value:function(t){var e=this._stepsArray[this.getCurrentStep()][t];return void 0===e&&(e=this.getConfig(t)),e}},{key:"goToStep",value:function(t){this._stepsArray[t]?(this.setCurrentStep(t),this.resetModal()):this.closeModal()}},{key:"isFirstStep",value:function(){return 0==this.getCurrentStep()}},{key:"isLastStep",value:function(){return this.getCurrentStep()==this._stepsArray.length-1}},{key:"modalElementModel",value:function(){return"".concat(this.getModalOption("showHeader")&&this.getModalOption("title")?this.getModelHeader():"","\n                ").concat(this.getModelBody(),"\n                ").concat(this.getModalOption("showFooter")?this.getModelFooter():"")}},{key:"updateConfig",value:function(){return Object.getOwnPropertyNames(this._globalConfig).forEach((function(t){this.setConfig(t,this._globalConfig[t])}),this),this}},{key:"settings",value:function(t){return Object.getOwnPropertyNames(t).forEach((function(e){this.setSetting(e,t[e])}),this),this}},{key:"steps",value:function(t){return this._globalConfig&&this.updateConfig(),t.forEach((function(e){this._stepsArray.push(e),t.sort((function(t,e){return t.order-e.order}))}),this),this.isMobile()&&(this._stepsArray=this._stepsArray.filter((function(t){return 0!=t.mobileSupport}))),this.getSetting("autoRun")&&this.run(),this}},{key:"backStep",value:function(){return this.goToStep(this.getCurrentStep()-1),this}},{key:"nextStep",value:function(){return this.goToStep(this.getCurrentStep()+1),this}},{key:"openModal",value:function(){this.getModalOption("openButtonId")&&document.getElementById(this.getModalOption("openButtonId")).setAttribute("disabled","disabled"),this.insertElementAfter(this.getModalOption("backgroundArea"),"div",this.getModalOption("backgroundEffectClass"));var t=this.getModalOption("modalDivClass");this.getModalOption("theme")&&(t+=" "+this.getModalOption("theme")),this.getModalOption("animation")&&(t+=" "+this.getModalOption("animation")),this.insertElementAfter(this.getModalOption("backgroundArea"),"div",t,this.modalElementModel()),[].forEach.call(document.getElementsByClassName(this.getModalOption("targetToggleClass")),(function(t){t.classList.remove(this.getModalOption("targetToggleClass"))}),this),this.getModalOption("target")&&(this.getModalOption("targetAutoShow")&&this.showHiddenElement(this.element(this.getModalOption("target"))),this.element(this.getModalOption("target")).classList.add(this.getModalOption("targetNoEffectClass"))),this.moveModal(),this.getModalOption("autoScroll")&&this.scrollModal(),this._isOpened=!0}},{key:"closeModal",value:function(){this.getModalOption("openButtonId")&&document.getElementById(this.getModalOption("openButtonId")).removeAttribute("disabled");var t=document.getElementsByClassName(this.getModalOption("backgroundEffectClass"))[0];t&&t.remove(),this.getModalOption("target")&&this.element(this.getModalOption("target")).classList.remove(this.getModalOption("targetNoEffectClass"));var e=document.getElementsByClassName(this.getModalOption("modalDivClass"))[0];e&&e.remove(),this._isOpened=!1}},{key:"updateModal",value:function(){Object.getOwnPropertyNames(this._config).forEach((function(t){this.setModalOption(t,this.getCurrenStepVal(t))}),this)}},{key:"resetModal",value:function(){this.closeModal(),this.updateModal(),this.openModal()}},{key:"moveModal",value:function(){var t,e,o=document.documentElement.clientWidth,n=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),i=document.getElementsByClassName(this.getModalOption("modalDivClass"))[0],a=i.offsetHeight,s=i.offsetWidth,l=s,r=this.getModalOption("margin");if(this.getModalOption("target")){var d,c=this.element(this.getModalOption("target")),u=this.getOffset(c),p=c.offsetHeight,g=c.offsetWidth;switch("auto"==this.getModalOption("horizontal")&&(u.left>s?this.setModalOption("horizontal","left"):this.setModalOption("horizontal","right"),("right"==this.getModalOption("horizontal")&&u.left+g+s+r>o||o<650)&&this.setModalOption("horizontal","center")),"auto"==this.getModalOption("vertical")&&(u.top>a?this.setModalOption("vertical","top"):this.setModalOption("vertical","bottom"),"center"!=this.getModalOption("horizontal")&&u.top>a/2&&n-u.top-a>a/2&&this.setModalOption("vertical","center")),this.getModalOption("horizontal")){case"left":e=u.left-s-r;break;case"center":e=u.left+(g-s)/2;break;case"right":e=u.left+g+r}switch(this.getModalOption("vertical")){case"top":t=u.top-a-r;break;case"center":t=u.top+(p-a)/2;break;case"bottom":t=u.top+p+r}this.getModalOption("showArrow")&&(d="center"==this.getModalOption("horizontal")?this.getModalOption("vertical"):this.getModalOption("horizontal"),"center"!=this.getModalOption("vertical")&&"center"!=this.getModalOption("horizontal")&&(d=this.getModalOption("vertical")+"-"+this.getModalOption("horizontal")),i.classList.add(d))}else t=(window.innerHeight-a)/2,e=(o-s)/2;this.getModalOption("responsive")&&"center"==this.getModalOption("horizontal")&&(e<0||e<r||e+s+r>o)&&(l=o-2*r-50,e=0,i.style.cssText="right: 0;\n                                              margin-left: auto;\n                                              margin-right: auto;"),this.setModalOption("positionTop",t),i.style.cssText+="position: absolute !important;\n                                       top: ".concat(t,"px;\n                                       left: ").concat(e,"px;\n                                       width: ").concat(l,"px;")}},{key:"scrollModal",value:function(){var t;t="target"==this.getModalOption("scrollOn")?this.element(this.getModalOption("target")):document.getElementsByClassName(this.getModalOption("modalDivClass"))[0],"scrollIntoView"==this.getModalOption("scrollMethod")?t.scrollIntoView({behavior:this.getModalOption("scrollBehavior"),block:this.getModalOption("scrollBlock"),inline:this.getModalOption("scrollInline")}):window.scrollTo({top:this.getModalOption("positionTop")-window.innerHeight/2,behavior:this.getModalOption("scrollBehavior")})}},{key:"addEventListeners",value:function(t,e,o){e.split(" ").forEach((function(e){return t.addEventListener(e,o,!1)}))}},{key:"element",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"query";return"query"==e?document.querySelector(t):"class"==e?document.getElementsByClassName(t)[0]:"id"==e?document.getElementById(t):void 0}},{key:"hasSomeParentTheClass",value:function(t,e){if(t.parentNode)return t.className.split(" ").indexOf(e)>=0||t.parentNode&&this.hasSomeParentTheClass(t.parentNode,e)}},{key:"showHiddenElement",value:function(t){if("none"==getComputedStyle(t,null).display&&t.classList.add(this.getModalOption("targetToggleClass")),t.parentNode&&"none"!==getComputedStyle(t,null).display)return"none"==getComputedStyle(t.parentNode,null).display?t.parentNode.classList.add(this.getModalOption("targetToggleClass")):this.showHiddenElement(t.parentNode)}},{key:"getOffset",value:function(t){for(var e=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)this.isMobile()?(e+=t.offsetLeft+t.clientLeft,o+=t.offsetTop+t.clientTop):(e+=t.offsetLeft-t.scrollLeft+t.clientLeft,o+=t.offsetTop-t.scrollTop+t.clientTop),t=t.offsetParent;return{top:o,left:e}}},{key:"targetQueryValidator",value:function(t,e){return t.target.id==e.replace("#","")||t.target.className==e.replace(".","")}},{key:"insertElementAfter",value:function(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=document.createElement(e);i.setAttribute("class",o),i.innerHTML=n,t.parentNode.insertBefore(i,t.nextSibling)}},{key:"isMobile",value:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},{key:"run",value:function(){this.updateModal(),this.openModal(),this.listener()}},{key:"listener",value:function(){var t,e,o=this;this.addEventListeners(document,this.getModalOption("events"),(function(n){if(clearTimeout(t),clearTimeout(e),n.stopPropagation(),o.getModalOption("outsideClick")&&!o.hasSomeParentTheClass(n.target,o.getModalOption("modalDivClass"))&&o.closeModal(),o.targetQueryValidator(n,o.getModalOption("closeButtonId"))&&o.closeModal(),n.target.id){var i=o._stepsArray.findIndex((function(t){return t.openButtonId==n.target.id}));i&&o.goToStep(i)}t=setTimeout((function(){o.targetQueryValidator(n,o.getModalOption("previousButtonClass"))&&(o.isFirstStep()||o.backStep())}),o.getModalOption("wait")),e=setTimeout((function(){o.targetQueryValidator(n,o.getModalOption("nextButtonClass"))&&(o.isLastStep()||o.nextStep())}),o.getModalOption("wait")),o.targetQueryValidator(n,o.getModalOption("endButtonClass"))&&o.isLastStep()&&o.closeModal()})),this.getModalOption("responsive")&&window.addEventListener("resize",(function(){!o.isMobile()&&o._isOpened&&o.resetModal()}))}}],e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),MentorJS}(),n=o;return e}()}));
//# sourceMappingURL=index.js.map